<!DOCTYPE html>
<head>
  <title>Vega Lite Bar Chart</title>
  <meta charset="utf-8">

  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="https://vega.github.io/vega/vega.min.js"></script>
  <script src="http://vega.github.io/vega-lite/vega-lite.js"></script>
  <script src="http://vega.github.io/vega-editor/vendor/vega-embed.js" charset="utf-8"></script>
  <script src="https://vega.github.io/vega-editor/vendor/d3.geo.projection.min.js"></script>
  <script src="https://vega.github.io/vega-editor/vendor/topojson.js"></script>
  <script src="src/vg-tooltip.js" charset="utf-8"></script>
  <link rel="stylesheet" type="text/css" href="src/vg-tooltip.css">

  <style media="screen">
    /* Add space between vega-embed links  */
    .vega-actions a {
      margin-right: 5px;
    }

    .tooltip-example {
      margin: 40px 0px;
    }
    .tooltip-example canvas {
      display: block;
      margin: auto;
    }
  </style>

  <script>
  // Vega-Lite Example: Scatter Plot
  var scatterSpec = {
    "data": {"url": "https://vega.github.io/vega-datasets/data/cars.json"},
    "mark": "circle",
    "encoding": {
      "x": {"field": "Horsepower", "type": "quantitative"},
      "y": {"field": "Miles_per_Gallon", "type": "quantitative"}
    }};
  var scatterEmbed = {
    mode: "vega-lite",  // Instruct Vega-Embed to use the Vega-Lite compiler
    spec: scatterSpec
  };
  vg.embed("#vis-scatter", scatterEmbed, function(error, result) {
    vgTooltip.linkToView(result.view);
  });

  // Vega-Lite Example: Stacked Bar Chart
  var stackedbarSpec = {
    "data": {"url": "https://vega.github.io/vega-datasets/data/seattle-weather.csv", "formatType": "csv"},
    "mark": "bar",
    "encoding": {
      "x": {
        "field": "date",
        "type": "temporal",
        "timeUnit": "month",
        "axis": {"title": "Month of the year"}
      },
      "y": {
        "field": "*",
        "type": "quantitative",
        "aggregate": "count"
      },
      "color": {
        "field": "weather",
        "type": "nominal",
        "scale": {
          "domain": ["sun","fog","drizzle","rain","snow"],
          "range": ["#e7ba52","#c7c7c7","#aec7e8","#1f77b4","#9467bd"]
        },
        "legend": {
          "title": "Weather type"
        }
      }
    }
  };
  var stackedbarEmbed = {
    mode: "vega-lite",
    spec: stackedbarSpec
  };
  vg.embed("#vis-stacked-bar", stackedbarEmbed, function(error, result) {
    vgTooltip.linkToView(result.view);
  });

  // Vega-Lite Example: Simple Bar Chart
  var barSpec = {
    "description": "A simple bar chart with embedded data.",
    "data": {
      "values": [
        {"a": "A","b": 28}, {"a": "B","b": 55}, {"a": "C","b": 43},
        {"a": "D","b": 91}, {"a": "E","b": 81}, {"a": "F","b": 53},
        {"a": "G","b": 19}, {"a": "H","b": 87}, {"a": "I","b": 52}
      ]
    },
    "mark": "bar",
    "encoding": {
      "x": {"field": "a", "type": "ordinal"},
      "y": {"field": "b", "type": "quantitative"}
    }
  };
  var barEmbed = {
    mode: "vega-lite",
    spec: barSpec
  }
  vg.embed("#vis-bar", barEmbed, function(error, result) {
    vgTooltip.linkToView(result.view);
  });

  // Vega Example: Arc
  vg.parse.spec("examples/arc.json", function(error, chart) {
    var view = chart({el:"#vis-arc"}).update();
    vgTooltip.linkToView(view);
  });

  // Vega Example: Choropleth
  vg.parse.spec("examples/choropleth.json", function(error, chart) {
    var view = chart({el:"#vis-choropleth"}).update();
    vgTooltip.linkToView(view);
  });

  // Vega Example: Force
  vg.parse.spec("examples/force.json", function(error, chart) {
    var view = chart({el:"#vis-force"}).update();
    vgTooltip.linkToView(view);
  });

  // Vega Example: Heatmap
  vg.parse.spec("examples/heatmap.json", function(error, chart) {
    var view = chart({el:"#vis-heatmap"}).update();
    vgTooltip.linkToView(view);
  });



  </script>
</head>
<body>
  <!-- Vega-Lite Example: Scatter Plot -->
  <div id="vis-scatter" class="tooltip-example"></div>

  <!-- Vega-Lite Example: Simple Bar Chart -->
  <div id="vis-bar" class="tooltip-example"></div>

  <!-- Vega-Lite Example: Stacked Bar Chart -->
  <div id="vis-stacked-bar" class="tooltip-example"></div>

  <!-- Vega Example: Arc -->
  <div id="vis-arc" class="tooltip-example"></div>

  <!-- Vega Example: Choropleth -->
  <div id="vis-choropleth" class="tooltip-example"></div>

  <!-- Vega Example: Force -->
  <div id="vis-force" class="tooltip-example"></div>

  <!-- Vega Example: Heatmap -->
  <div id="vis-heatmap" class="tooltip-example"></div>

  <!-- Placeholder for Tooltip -->
  <table id="vis-tooltip" class="vg-tooltip"></table>

</body>
</html>
